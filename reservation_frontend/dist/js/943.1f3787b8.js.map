{"version":3,"file":"js/943.1f3787b8.js","mappings":"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","sources":["webpack://reservation_frontend/./src/views/LoginView.vue","webpack://reservation_frontend/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Welcome to eHomeAffairs - eBooking</h1>\r\n    <h3 class=\"mainBrwnTxt\">Easy to use, convenient and just a click away</h3>\r\n    <h4>login status = {{ loginStatus }}</h4>\r\n    <div class=\"slightlyWhitenedBrownBg mx-3\">\r\n      <div class=\"row d-flex justify-content-evenly\">\r\n        <div class=\"col-12 col-sm-5 mx-1 mainBrwnBg\">\r\n          <div class=\"mainWhitishBg innerDiv\">\r\n            <h5 class=\"text-start mx-2\">\r\n              To register,\r\n              <span class=\"mainBrwnTxt\"\r\n                >use your ID number as the username.</span\r\n              >\r\n              <br />\r\n              A <span class=\"mainBrwnTxt\">one-time-pin (OTP)</span> will be sent\r\n              to your cellphone so please ensure you have your cellphone near\r\n              you.\r\n              <br />\r\n              Please note: the\r\n              <span class=\"mainBrwnTxt\">number you use to register</span> is\r\n              where any sms <span class=\"mainBrwnTxt\">notifications</span> from\r\n              the department will be sent to.\r\n            </h5>\r\n            <br />\r\n            <h5 class=\"d-flex justify-content-start mx-2\">\r\n              Username (ID number)\r\n            </h5>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Enter your ID number...\"\r\n              v-model=\"newUserInfo.userID\"\r\n            />\r\n            <h5 class=\"d-flex justify-content-start mx-2 mt-3\">firstName</h5>\r\n            <input\r\n              type=\"name\"\r\n              placeholder=\"Enter cellphone number...\"\r\n              v-model=\"newUserInfo.firstName\"\r\n            />\r\n            <h5 class=\"d-flex justify-content-start mx-2 mt-3\">lastName</h5>\r\n            <input\r\n              type=\"name\"\r\n              placeholder=\"Enter cellphone number...\"\r\n              v-model=\"newUserInfo.lastName\"\r\n            />\r\n            <h5 class=\"d-flex justify-content-start mx-2 mt-3\">Password</h5>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Enter password here...\"\r\n              v-model=\"newUserInfo.txtPassword\"\r\n            />\r\n            <br /><br />\r\n            <button class=\"my-3\" @click=\"registerNewUser()\">Register</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-sm-5 mx-1 mainBrwnBg d-flex\">\r\n          <div class=\"mainWhitishBg innerDiv\">\r\n            <h5 class=\"text-start mx-2\">\r\n              To login, enter your username (ID number) and password.\r\n              <br />\r\n              <span class=\"mainBrwnTxt\">Register</span> if you do not have an\r\n              account.\r\n              <br />\r\n              A <span class=\"mainBrwnTxt\">one-time-pin (OTP)</span> will be sent\r\n              to your cellphone so please ensure you have your cellphone near\r\n              you.\r\n              <br />\r\n              Please note: you will receive the OTP via the\r\n              <span class=\"mainBrwnTxt\">number you used to register</span>\r\n            </h5>\r\n            <br />\r\n            <h5 class=\"d-flex justify-content-start mx-2\">\r\n              Username (ID number)\r\n            </h5>\r\n            <input\r\n              type=\"number\"\r\n              class=\"d-flex justify-content-start mx-2\"\r\n              placeholder=\"Enter your ID number...\"\r\n              v-model=\"checkUserInfo.userID\"\r\n            />\r\n            <h5 class=\"d-flex justify-content-start mx-2 mt-3\">Password</h5>\r\n            <input\r\n              type=\"password\"\r\n              class=\"d-flex justify-content-start mx-2\"\r\n              placeholder=\"Enter password here...\"\r\n              v-model=\"checkUserInfo.txtPassword\"\r\n            />\r\n            <h5 class=\"d-flex justify-content-start mx-2 mt-3\">OTP</h5>\r\n            <input\r\n              class=\"d-flex justify-content-start mx-2\"\r\n              type=\"number\"\r\n              placeholder=\"Enter cellphone number...\"\r\n            />\r\n            <br />\r\n            <button class=\"my-3\" @click=\"checkUser()\">Login</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <h2>View token assignment for users here</h2>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <td>userID</td>\r\n          <td>token</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in this.$store.state.allTheUsers\" :key=\"user.userID\">\r\n          <td>{{ user.userID }}</td>\r\n          <td>{{ user.token }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <h2>View basic info for existing users here</h2>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <td>userID</td>\r\n          <td>firstName</td>\r\n          <td>lastName</td>\r\n          <td>txtPassword</td>\r\n          <td>hashedPassword</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in this.$store.state.allTheUsers\" :key=\"user.userID\">\r\n          <td>{{ user.userID }}</td>\r\n          <td>{{ user.firstName }}</td>\r\n          <td>{{ user.lastName }}</td>\r\n          <td>{{ user.txtPassword }}</td>\r\n          <td>{{ user.hashedPassword }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      newUserInfo: {\r\n        userID: null,\r\n        firstName: null,\r\n        lastName: null,\r\n        txtPassword: null,\r\n      },\r\n      checkUserInfo: {\r\n        userID: null,\r\n        txtPassword: null,\r\n      },\r\n      loginStatus: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async registerNewUser() {\r\n      try {\r\n        console.log(\"the register user method in the login page is running\");\r\n        await this.$store.dispatch(\"registerUser\", this.newUserInfo);\r\n      } catch (error) {\r\n        console.log(\r\n          `the following error was found while trying to register a new user in the login pg: ${error}`\r\n        );\r\n      }\r\n    },\r\n    async setFullCurrentUserDeets(currentUserInfoID) {\r\n      console.log(\r\n        \"The setFullCurrentUserDeets fx just started and immediately ran the getAUser fx of the store\"\r\n      );\r\n      let [fullUserDeets] = await this.$store.dispatch(\r\n        \"getAUser\",\r\n        currentUserInfoID\r\n      );\r\n      console.log(\r\n        \"We are now back in the setFullCurrentUserDeets fx of the login pg\"\r\n      );\r\n      console.log(\r\n        \"Below is the variable/array returned after running the store fx\"\r\n      );\r\n      console.log(fullUserDeets);\r\n      console.log(\"the fullUserDeets will now be set to localStorage\");\r\n      localStorage.setItem(\"fullUserDeets\", JSON.stringify(fullUserDeets));\r\n    },\r\n    async setCurrentUserInfo() {\r\n      try {\r\n        // Since getAUser in the userProfile didn't work imma try to get this to work in the login pg\r\n        console.log(\"The setCurrentUser to local storage fx is running now\");\r\n        localStorage.setItem(\r\n          \"currentUserInfo\",\r\n          JSON.stringify(this.checkUserInfo)\r\n        );\r\n        console.log(\r\n          \"The setFullCurrentUserDeets fx just started and immediately ran the getAUser fx of the store\"\r\n        );\r\n        let [fullUserDeets] = await this.$store.dispatch(\r\n          \"getAUser\",\r\n          this.checkUserInfo.userID\r\n        );\r\n        console.log(\r\n          \"Below is the variable/array returned after running the getAUser store fx\"\r\n        );\r\n        console.log(fullUserDeets);\r\n        console.log(\"the fullUserDeets will now be set to localStorage\");\r\n        localStorage.setItem(\"fullUserDeets\", JSON.stringify(fullUserDeets));\r\n      } catch (error) {\r\n        console.log(\r\n          `The followinng error occured while trying to set the checkUser info (id number + txtPassword) as well as the fullUserDeets to the local storage: ${error}`\r\n        );\r\n      }\r\n    },\r\n    async checkUser() {\r\n      try {\r\n        console.log(\"the checkUser method in the login page is running\");\r\n        let checkTheuser = await this.$store.dispatch(\r\n          \"checkAUser\",\r\n          this.checkUserInfo\r\n        );\r\n        console.log(\r\n          \"We're back in the checkUser fx of the loginPg. Below is the value of the checkTheUser.token variable (hopefully)\"\r\n        );\r\n        console.log(checkTheuser.token);\r\n        console.log(\"Below is the checkTheuser.worked variable\");\r\n        console.log(checkTheuser.worked);\r\n        console.log(\r\n          \"below i'm setting the checkTheuser.token variable to local storage. hopefully it works\"\r\n        );\r\n        localStorage.setItem(\"userToken\", JSON.stringify(checkTheuser.token));\r\n        console.log(\r\n          \"Below I'm setting the checkTheuser.worked variable to local storage. Pray for me\"\r\n        );\r\n        localStorage.setItem(\r\n          \"checkUserStatus\",\r\n          JSON.stringify(checkTheuser.worked)\r\n        );\r\n        await this.setCurrentUserInfo();\r\n        window.location.href = \"/\";\r\n        // history.go(-1)\r\n      } catch (error) {\r\n        console.log(\r\n          `the following error was found while trying to check user credentials in the login pg: ${error}`\r\n        );\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    try {\r\n      this.$store.dispatch(\"getTheUsers\");\r\n    } catch (error) {\r\n      console.log(\r\n        `the following error was found while trying to mount the user in the login pg: ${error}`\r\n      );\r\n    }\r\n    try {\r\n      this.loginStatus = JSON.parse(localStorage.getItem(\"checkUserStatus\"));\r\n    } catch (error) {\r\n      console.log(\r\n        `The following error was found when getting the loginStatus at the mounted of the loginPg: ${error} `\r\n      );\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nh1,\r\nh3 {\r\n  text-align: start;\r\n  margin-left: 5px;\r\n}\r\n\r\n.innerDiv {\r\n  margin-block: 12px;\r\n}\r\n\r\ntr {\r\n  border: dotted;\r\n  border-color: blue;\r\n}\r\n</style>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=3fa1d4c2\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=3fa1d4c2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","type","placeholder","loginStatus","newUserInfo","userID","firstName","lastName","txtPassword","registerNewUser","checkUserInfo","checkUser","$store","state","allTheUsers","user","key","token","hashedPassword","data","methods","console","log","this","dispatch","error","setFullCurrentUserDeets","currentUserInfoID","fullUserDeets","localStorage","setItem","JSON","stringify","setCurrentUserInfo","checkTheuser","worked","window","location","href","mounted","parse","getItem","__exports__","render"],"sourceRoot":""}