"use strict";(self["webpackChunkreservation_frontend"]=self["webpackChunkreservation_frontend"]||[]).push([[141],{717:function(e,t,s){s.d(t,{A:function(){return N}});var o=s(641),l=s(33),a=s(751);const n={class:"d-flex justify-content-center"},r=["data-bs-target"],i=["id","aria-labelledby"],d={class:"modal-dialog"},u={class:"modal-content"},c={class:"modal-header"},k=["id"],g=(0,o.Lk)("br",null,null,-1),h=(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),m={class:"modal-body"},L=(0,o.Lk)("h6",null,"Please enter the details you would like to update:",-1),b={class:"row"},f={class:"col-12 col-sm-6"},p=(0,o.Lk)("p",null,"firstName",-1),v={class:"col-12 col-sm-6"},y=(0,o.Lk)("p",null,"lastName",-1),I={class:"modal-footer"},B=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function w(e,t,s,w,U,D){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",n,[(0,o.Lk)("button",{type:"button",class:"","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"+s.userID}," Edit Details ",8,r)]),(0,o.Lk)("div",{class:"modal fade",id:"staticBackdrop"+s.userID,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel"+s.userID,"aria-hidden":"true"},[(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[(0,o.Lk)("h5",{class:"modal-title",id:"staticBackdropLabel"+s.userID},[(0,o.eW)("The currentUserId = "+(0,l.v_)(this.userID)+". ",1),g,(0,o.eW)("You are now changing your personal details.")],8,k),h]),(0,o.Lk)("div",m,[L,(0,o.Lk)("div",b,[(0,o.Lk)("div",f,[p,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>U.updatedUserInfo.firstName=e)},null,512),[[a.Jo,U.updatedUserInfo.firstName]])]),(0,o.Lk)("div",v,[y,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>U.updatedUserInfo.lastName=e)},null,512),[[a.Jo,U.updatedUserInfo.lastName]])])])]),(0,o.Lk)("div",I,[B,(0,o.Lk)("button",{type:"button",class:"",onClick:t[2]||(t[2]=(...e)=>D.editCurrentUserDeets&&D.editCurrentUserDeets(...e))},"Edit details")])])])],8,i)])}var U={name:"EditSingleUser",props:{userID:Number},data(){return{updatedUserInfo:{userID:null,firstName:null,lastName:null}}},methods:{async editCurrentUserDeets(){console.log("The editCurrentUserDeets fx of the editSingleUser modal is running now (adminPg OR userProfile pg). Below is the updatedUserInfo variable that will be sent to the store:");let e=this.userID,t=this.updatedUserInfo.firstName,s=this.updatedUserInfo.lastName,o={userID:e,firstName:t,lastName:s};console.log(o),await this.$store.dispatch("editTheUser",o),console.log("Since the userDetails have been updated on mySQL successfully, now we will update the localStorage");let[l]=await this.$store.dispatch("getAUser",e);console.log("Below is the fullUserDeets for the updated user:"),console.log(l),localStorage.setItem("fullUserDeets",JSON.stringify(l)),location.reload()}}},D=s(262);const x=(0,D.A)(U,[["render",w]]);var N=x},141:function(e,t,s){s.r(t),s.d(t,{default:function(){return ye}});var o=s(641),l=s(33);const a={class:"ms-3"},n=(0,o.Lk)("br",null,null,-1),r={class:"row d-flex justify-content-center"},i=(0,o.Lk)("div",{class:"col-3 ms-1 mx-3 darkGreyBg profileIconDiv d-flex justify-content-center"},[(0,o.Lk)("img",{class:"profileIcon",src:"https://i.ibb.co/zF1SSmP/userprofile-removebg.png",alt:""})],-1),d={class:"col-9 slightlyWhitenedBrownBg"},u={class:"row testBorder"},c=(0,o.Lk)("div",{class:"col-6 mt-1"},[(0,o.Lk)("h2",null,"User info")],-1),k={class:"col-6 mt-2 d-flex justify-content-end"},g={c:""},h={class:"row d-flex"},m={class:"row testBorder"},L={class:"col-6 mt-1"},b={c:""},f={class:"col-6 mt-2 d-flex justify-content-start"},p={c:""},v={class:"row testBorder"},y={class:"col-6 mt-1"},I={c:""},B={class:"col-6 mt-2 d-flex justify-content-start"},w={c:""},U={class:"row testBorder"},D={class:"col-6 mt-1"},x={c:""},N={class:"col-6 mt-2 d-flex justify-content-start"},_={c:""},C={class:"centerBtn"},S=(0,o.Lk)("br",null,null,-1),T=(0,o.Lk)("br",null,null,-1),A=(0,o.Lk)("br",null,null,-1),$=(0,o.Lk)("br",null,null,-1),E=(0,o.Lk)("h3",{class:"ms-3 mainBrwnTxt"},"Below are your booking(s)",-1),j={class:"table-responsive"},J={class:"ms-3 table"},P=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,"Day"),(0,o.Lk)("td",{class:"d-flex mx-2"},"Date"),(0,o.Lk)("td",null,"Language"),(0,o.Lk)("td",{class:"d-flex mx-2"},"Time"),(0,o.Lk)("td",null,"Service"),(0,o.Lk)("td",{class:"d-flex mx-5"},"Action")])],-1),V=(0,o.Lk)("td",{class:"d-flex mx-2"},"Need to get date",-1),W={class:"d-flex mx-2"},X={class:"d-flex mx-2"},F=["onClick"],O=(0,o.Lk)("br",null,null,-1),M=(0,o.Lk)("br",null,null,-1);function R(e,t,s,R,Y,z){const G=(0,o.g2)("EditSingleUser"),H=(0,o.g2)("EditBookingsModal");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("h1",a,"Welcome, "+(0,l.v_)(this.currentUserInfo.firstName)+" "+(0,l.v_)(this.currentUserInfo.lastName),1),n,(0,o.Lk)("div",r,[i,(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[c,(0,o.Lk)("div",k,[(0,o.Lk)("p",g,"Language: "+(0,l.v_)(this.currentUserInfo.userLanguage),1)])]),(0,o.Lk)("div",h,[(0,o.Lk)("p",null,"Username (ID number): "+(0,l.v_)(this.currentUserInfo.userID),1)]),(0,o.Lk)("div",m,[(0,o.Lk)("div",L,[(0,o.Lk)("p",b,"firstName: "+(0,l.v_)(this.currentUserInfo.firstName),1)]),(0,o.Lk)("div",f,[(0,o.Lk)("p",p,"lastName: "+(0,l.v_)(this.currentUserInfo.lastName),1)])]),(0,o.Lk)("div",v,[(0,o.Lk)("div",y,[(0,o.Lk)("p",I,"cellphone: "+(0,l.v_)(this.currentUserInfo.cellNumber),1)]),(0,o.Lk)("div",B,[(0,o.Lk)("p",w,"gender: "+(0,l.v_)(this.currentUserInfo.gender),1)])]),(0,o.Lk)("div",U,[(0,o.Lk)("div",D,[(0,o.Lk)("p",x,"age: "+(0,l.v_)(this.currentUserInfo.userAge),1)]),(0,o.Lk)("div",N,[(0,o.Lk)("p",_,"userRole: "+(0,l.v_)(this.currentUserInfo.userRole),1)])]),(0,o.Lk)("div",C,[(0,o.bF)(G,{class:"mt-3",userID:this.currentUserInfo.userID},null,8,["userID"])])])]),S,T,A,$,E,(0,o.Lk)("div",j,[(0,o.Lk)("table",J,[P,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(this.$store.state.theBookingsArray,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.userID},[(0,o.Lk)("td",null,(0,l.v_)(e.userID),1),V,(0,o.Lk)("td",null,(0,l.v_)(e.userLanguage),1),(0,o.Lk)("td",W,(0,l.v_)(e.userTime),1),(0,o.Lk)("td",null,(0,l.v_)(e.userService),1),(0,o.Lk)("td",X,[(0,o.bF)(H,{booking:e,class:"mx-3"},null,8,["booking"]),(0,o.Lk)("button",{onClick:t=>z.deleteBooking(e.userID)},"Delete",8,F)])])))),128))])])]),O,M])}var Y=s(751);const z=["data-bs-target"],G=["id","aria-labelledby"],H={class:"modal-dialog"},K={class:"modal-content veryWhitenedBrownBg"},Q={class:"modal-header"},q=["id"],Z=(0,o.Lk)("button",{type:"button",class:"btn-close mt-5","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ee={class:"modal-body"},te={class:"mainBrownBg_modal"},se=(0,o.Lk)("div",{class:"mainBrwnBg topHeight"},null,-1),oe={class:"veryWhitenedBrownBg_modal"},le={class:"row"},ae={class:"col-6"},ne=(0,o.Lk)("p",{class:"mt-3"},"new Language",-1),re={class:"col-6"},ie=(0,o.Lk)("p",{class:"mt-3"},"Choose a new time",-1),de=(0,o.Lk)("p",{class:"mt-3"},"ID number",-1),ue=(0,o.Lk)("p",{class:"mt-3"},"Choose a new Service",-1),ce={class:"modal-footer"},ke=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function ge(e,t,s,a,n,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("button",{type:"button",class:"","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"+s.booking.userID}," edit ",8,z),(0,o.Lk)("div",{class:"modal fade",id:"staticBackdrop"+s.booking.userID,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel"+s.booking.userID,"aria-hidden":"true"},[(0,o.Lk)("div",H,[(0,o.Lk)("div",K,[(0,o.Lk)("div",Q,[(0,o.Lk)("h5",{class:"modal-title",id:"staticBackdropLabel"+s.booking.userID}," You have chosen to edit the following booking with the following userID and details: userID = "+(0,l.v_)(s.booking.userID)+", userLanguage = "+(0,l.v_)(s.booking.userLanguage)+", userTime = "+(0,l.v_)(s.booking.userTime)+", userService = "+(0,l.v_)(s.booking.userService),9,q),Z]),(0,o.Lk)("div",ee,[(0,o.Lk)("div",te,[se,(0,o.Lk)("div",oe,[(0,o.Lk)("div",le,[(0,o.Lk)("div",ae,[ne,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.editBooking.userLanguage=e)},null,512),[[Y.Jo,n.editBooking.userLanguage]])]),(0,o.Lk)("div",re,[ie,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.editBooking.userTime=e)},null,512),[[Y.Jo,n.editBooking.userTime]])])]),de,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.editBooking.userID=e)},null,512),[[Y.Jo,n.editBooking.userID]]),ue,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.editBooking.userService=e)},null,512),[[Y.Jo,n.editBooking.userService]])])])]),(0,o.Lk)("div",ce,[ke,(0,o.Lk)("button",{type:"button",class:"btn",onClick:t[4]||(t[4]=(...e)=>r.editABooking&&r.editABooking(...e))}," edit booking ")])])])],8,G)])}var he={name:"EditBookingsModal",props:{booking:Object},data(){return{editBooking:{userID:null,userLanguage:null,userTime:null,userService:null}}},methods:{editABooking(){try{console.log(`in the editBooking modal, this is the userID that is being edited: ${this.editBooking.userID}`),this.$store.dispatch("editABooking",this.editBooking),console.log("you have successfully edited the booking"),location.reload()}catch(e){console.log(`the following error was found in the edit bookings modal when trying to edit a new booking: ${e}`)}}}},me=s(262);const Le=(0,me.A)(he,[["render",ge]]);var be=Le,fe=s(717),pe={data(){return{currentUserInfo:[],currentUserID:null}},components:{EditBookingsModal:be,EditSingleUser:fe.A},methods:{async deleteBooking(e){try{await this.$store.dispatch("deleteBooking",e),location.reload(),location.reload()}catch(t){console.log(`The following error occured while trying to dispatch the delete booking fx: ${t}`)}},async deleteTheUser(e){try{this.$store.dispatch("deleteAUser",e)}catch(t){console.log(`The following error occured in the delete user method of the userProfile pg: ${t}`)}}},mounted(){try{this.$store.dispatch("getBookings")}catch(e){console.log("The following error was found while trying to dispatch the getBookings action")}try{console.log("Below is the fx to get the fullUserDeets from the localStorage"),this.currentUserInfo=JSON.parse(localStorage.getItem("fullUserDeets"))}catch(e){console.log(`The following error occured while trying to load fullCurrentUserDeets from local storage on the mounted of the userProfile pg: ${e}`)}try{this.$store.dispatch("getTheUsers")}catch(e){console.log(`The following error occured when trying to get all users fr state on the mounted of the userProfile pg: ${e}`)}}};const ve=(0,me.A)(pe,[["render",R]]);var ye=ve}}]);
//# sourceMappingURL=141.1ddb1c40.js.map